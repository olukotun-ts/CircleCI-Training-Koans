version: 2.1

setup: true

orbs:
  path-filtering: circleci/path-filtering@0.0.2

# parameters:
#   config_dir:
#     type: string
#     default: ""

workflows:
  filter:
    jobs:
      - path-filtering/filter:
          base-revision: path-filtering
          config-path: .circleci/config.yml
          mapping: |
            01_Hello_World/.* config_dir "01_Hello_World"
            02_Yaml/.* config_dir "02_Yaml"

  verify:
    unless: << pipeline.parameters.config_dir >>
    jobs:
      - verify

jobs:
  verify:
    executor: path-filtering/default
    steps:
      - run: echo << pipeline.parameters.config_dir >>